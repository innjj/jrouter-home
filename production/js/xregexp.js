var XRegExp=function(e){"use strict";function t(e,t,n,r,a){var l;if(e[E]={captureNames:t},a)return e;if(e.__proto__)e.__proto__=m.prototype;else for(l in m.prototype)e[l]=m.prototype[l];return e[E].source=n,e[E].flags=r?r.split("").sort().join(""):r,e}function n(e){return I.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function r(r,a){if(!m.isRegExp(r))throw new TypeError("Type RegExp expected");var o=r[E]||{},c=l(r),s="",u="",p=null,f=null;return a=a||{},a.removeG&&(u+="g"),a.removeY&&(u+="y"),u&&(c=I.replace.call(c,new RegExp("["+u+"]+","g"),"")),a.addG&&(s+="g"),a.addY&&(s+="y"),s&&(c=n(c+s)),a.isInternalOnly||(o.source!==e&&(p=o.source),null!=o.flags&&(f=s?n(o.flags+s):o.flags)),r=t(new RegExp(r.source,c),i(r)?o.captureNames.slice(0):null,p,f,a.isInternalOnly)}function a(e){return parseInt(e,16)}function l(e){return Y?e.flags:I.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}function i(e){return!(!e[E]||!e[E].captureNames)}function o(e){return parseInt(e,10).toString(16)}function c(e,t){var n,r=e.length;for(n=0;r>n;++n)if(e[n]===t)return n;return-1}function s(e,t){return z.call(e)==="[object "+t+"]"}function u(e,t,n){return I.test.call(n.indexOf("x")>-1?/^(?:\s+|#.*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(t))}function p(e){for(;e.length<4;)e="0"+e;return e}function f(e,t){var r;if(n(t)!==t)throw new SyntaxError("Invalid duplicate regex flag "+t);for(e=I.replace.call(e,/^\(\?([\w$]+)\)/,function(e,r){if(I.test.call(/[gy]/,r))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return t=n(t+r),""}),r=0;r<t.length;++r)if(!T[t.charAt(r)])throw new SyntaxError("Unknown regex flag "+t.charAt(r));return{pattern:e,flags:t}}function g(e){var t={};return s(e,"String")?(m.forEach(e,/[^\s,]+/,function(e){t[e]=!0}),t):e}function h(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");T[e]=!0}function d(e,t,n,r,a){for(var l,i,o=b.length,c=e.charAt(n),s=null;o--;)if(i=b[o],!(i.leadChar&&i.leadChar!==c||i.scope!==r&&"all"!==i.scope||i.flag&&-1===t.indexOf(i.flag))&&(l=m.exec(e,i.regex,n,"sticky"))){s={matchLength:l[0].length,output:i.handler.call(a,l,r,t),reparse:i.reparse};break}return s}function x(e){S.astral=e}function y(e){RegExp.prototype.exec=(e?R:I).exec,RegExp.prototype.test=(e?R:I).test,String.prototype.match=(e?R:I).match,String.prototype.replace=(e?R:I).replace,String.prototype.split=(e?R:I).split,S.natives=e}function w(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}var m,v,E="xregexp",S={astral:!1,natives:!1},I={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},R={},C={},N={},b=[],k="default",A="class",F={"default":/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,"class":/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},$=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,O=I.exec.call(/()??/,"")[1]===e,_=function(){var e=!0;try{new RegExp("","u")}catch(t){e=!1}return e}(),G=function(){var e=!0;try{new RegExp("","y")}catch(t){e=!1}return e}(),Y=/a/.flags!==e,T={g:!0,i:!0,m:!0,u:_,y:G},z={}.toString;return m=function(n,a){var l,i,o,c,s,u={hasNamedCapture:!1,captureNames:[]},p=k,g="",h=0;if(m.isRegExp(n)){if(a!==e)throw new TypeError("Cannot supply flags when copying a RegExp");return r(n)}if(n=n===e?"":String(n),a=a===e?"":String(a),m.isInstalled("astral")&&-1===a.indexOf("A")&&(a+="A"),N[n]||(N[n]={}),!N[n][a]){for(l=f(n,a),c=l.pattern,s=l.flags;h<c.length;){do l=d(c,s,h,p,u),l&&l.reparse&&(c=c.slice(0,h)+l.output+c.slice(h+l.matchLength));while(l&&l.reparse);l?(g+=l.output,h+=l.matchLength||1):(i=m.exec(c,F[p],h,"sticky")[0],g+=i,h+=i.length,"["===i&&p===k?p=A:"]"===i&&p===A&&(p=k))}N[n][a]={pattern:I.replace.call(g,/\(\?:\)(?=\(\?:\))|^\(\?:\)|\(\?:\)$/g,""),flags:I.replace.call(s,/[^gimuy]+/g,""),captures:u.hasNamedCapture?u.captureNames:null}}return o=N[n][a],t(new RegExp(o.pattern,o.flags),o.captures,n,a)},m.prototype=new RegExp,m.version="3.0.0",m.addToken=function(e,t,n){n=n||{};var a,l=n.optionalFlags;if(n.flag&&h(n.flag),l)for(l=I.split.call(l,""),a=0;a<l.length;++a)h(l[a]);b.push({regex:r(e,{addG:!0,addY:G,isInternalOnly:!0}),handler:t,scope:n.scope||k,flag:n.flag,reparse:n.reparse,leadChar:n.leadChar}),m.cache.flush("patterns")},m.cache=function(e,t){return C[e]||(C[e]={}),C[e][t]||(C[e][t]=m(e,t))},m.cache.flush=function(e){"patterns"===e?N={}:C={}},m.escape=function(e){return I.replace.call(w(e),/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},m.exec=function(e,t,n,a){var l,i,o="g",c=!1;return c=G&&!!(a||t.sticky&&a!==!1),c&&(o+="y"),t[E]=t[E]||{},i=t[E][o]||(t[E][o]=r(t,{addG:!0,addY:c,removeY:a===!1,isInternalOnly:!0})),i.lastIndex=n=n||0,l=R.exec.call(i,e),a&&l&&l.index!==n&&(l=null),t.global&&(t.lastIndex=l?i.lastIndex:0),l},m.forEach=function(e,t,n){for(var r,a=0,l=-1;r=m.exec(e,t,a);)n(r,++l,e,t),a=r.index+(r[0].length||1)},m.globalize=function(e){return r(e,{addG:!0})},m.install=function(e){e=g(e),!S.astral&&e.astral&&x(!0),!S.natives&&e.natives&&y(!0)},m.isInstalled=function(e){return!!S[e]},m.isRegExp=function(e){return"[object RegExp]"===z.call(e)},m.match=function(e,t,n){var a,l,i=t.global&&"one"!==n||"all"===n,o=(i?"g":"")+(t.sticky?"y":"")||"noGY";return t[E]=t[E]||{},l=t[E][o]||(t[E][o]=r(t,{addG:!!i,addY:!!t.sticky,removeG:"one"===n,isInternalOnly:!0})),a=I.match.call(w(e),l),t.global&&(t.lastIndex="one"===n&&a?a.index+a[0].length:0),i?a||[]:a&&a[0]},m.matchChain=function(e,t){return function n(e,r){var a,l=t[r].regex?t[r]:{regex:t[r]},i=[],o=function(e){if(l.backref){if(!(e.hasOwnProperty(l.backref)||+l.backref<e.length))throw new ReferenceError("Backreference to undefined group: "+l.backref);i.push(e[l.backref]||"")}else i.push(e[0])};for(a=0;a<e.length;++a)m.forEach(e[a],l.regex,o);return r!==t.length-1&&i.length?n(i,r+1):i}([e],0)},m.replace=function(e,t,n,a){var l,i=m.isRegExp(t),o=t.global&&"one"!==a||"all"===a,c=(o?"g":"")+(t.sticky?"y":"")||"noGY",s=t;return i?(t[E]=t[E]||{},s=t[E][c]||(t[E][c]=r(t,{addG:!!o,addY:!!t.sticky,removeG:"one"===a,isInternalOnly:!0}))):o&&(s=new RegExp(m.escape(String(t)),"g")),l=R.replace.call(w(e),s,n),i&&t.global&&(t.lastIndex=0),l},m.replaceEach=function(e,t){var n,r;for(n=0;n<t.length;++n)r=t[n],e=m.replace(e,r[0],r[1],r[2]);return e},m.split=function(e,t,n){return R.split.call(w(e),t,n)},m.test=function(e,t,n,r){return!!m.exec(e,t,n,r)},m.uninstall=function(e){e=g(e),S.astral&&e.astral&&x(!1),S.natives&&e.natives&&y(!1)},m.union=function(e,t){var n,r,a,l,i=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,o=[],c=0,u=function(e,t,a){var l=r[c-n];if(t){if(++c,l)return"(?<"+l+">"}else if(a)return"\\"+(+a+n);return e};if(!s(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(l=0;l<e.length;++l)a=e[l],m.isRegExp(a)?(n=c,r=a[E]&&a[E].captureNames||[],o.push(I.replace.call(m(a.source).source,i,u))):o.push(m.escape(a));return m(o.join("|"),t)},R.exec=function(t){var n,a,l,i=this.lastIndex,o=I.exec.apply(this,arguments);if(o){if(!O&&o.length>1&&c(o,"")>-1&&(a=r(this,{removeG:!0,isInternalOnly:!0}),I.replace.call(String(t).slice(o.index),a,function(){var t,n=arguments.length;for(t=1;n-2>t;++t)arguments[t]===e&&(o[t]=e)})),this[E]&&this[E].captureNames)for(l=1;l<o.length;++l)n=this[E].captureNames[l-1],n&&(o[n]=o[l]);this.global&&!o[0].length&&this.lastIndex>o.index&&(this.lastIndex=o.index)}return this.global||(this.lastIndex=i),o},R.test=function(e){return!!R.exec.call(this,e)},R.match=function(e){var t;if(m.isRegExp(e)){if(e.global)return t=I.match.apply(this,arguments),e.lastIndex=0,t}else e=new RegExp(e);return R.exec.call(e,w(this))},R.replace=function(t,n){var r,a,l,i=m.isRegExp(t);return i?(t[E]&&(a=t[E].captureNames),r=t.lastIndex):t+="",l=s(n,"Function")?I.replace.call(String(this),t,function(){var r,l=arguments;if(a)for(l[0]=new String(l[0]),r=0;r<a.length;++r)a[r]&&(l[0][a[r]]=l[r+1]);return i&&t.global&&(t.lastIndex=l[l.length-2]+l[0].length),n.apply(e,l)}):I.replace.call(null==this?this:String(this),t,function(){var e=arguments;return I.replace.call(String(n),$,function(t,n,r){var l;if(n){if(l=+n,l<=e.length-3)return e[l]||"";if(l=a?c(a,n):-1,0>l)throw new SyntaxError("Backreference to undefined group "+t);return e[l+1]||""}if("$"===r)return"$";if("&"===r||0===+r)return e[0];if("`"===r)return e[e.length-1].slice(0,e[e.length-2]);if("'"===r)return e[e.length-1].slice(e[e.length-2]+e[0].length);if(r=+r,!isNaN(r)){if(r>e.length-3)throw new SyntaxError("Backreference to undefined group "+t);return e[r]||""}throw new SyntaxError("Invalid token "+t)})}),i&&(t.global?t.lastIndex=0:t.lastIndex=r),l},R.split=function(t,n){if(!m.isRegExp(t))return I.split.apply(this,arguments);var r,a=String(this),l=[],i=t.lastIndex,o=0;return n=(n===e?-1:n)>>>0,m.forEach(a,t,function(e){e.index+e[0].length>o&&(l.push(a.slice(o,e.index)),e.length>1&&e.index<a.length&&Array.prototype.push.apply(l,e.slice(1)),r=e[0].length,o=e.index+r)}),o===a.length?(!I.test.call(t,"")||r)&&l.push(""):l.push(a.slice(o)),t.lastIndex=i,l.length>n?l.slice(0,n):l},v=m.addToken,v(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(e,t){if("B"===e[1]&&t===k)return e[0];throw new SyntaxError("Invalid escape "+e[0])},{scope:"all",leadChar:"\\"}),v(/\\u{([\dA-Fa-f]+)}/,function(e,t,n){var r=a(e[1]);if(r>1114111)throw new SyntaxError("Invalid Unicode code point "+e[0]);if(65535>=r)return"\\u"+p(o(r));if(_&&n.indexOf("u")>-1)return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),v(/\[(\^?)]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"},{leadChar:"["}),v(/\(\?#[^)]*\)/,function(e,t,n){return u(e.input,e.index+e[0].length,n)?"":"(?:)"},{leadChar:"("}),v(/\s+|#.*/,function(e,t,n){return u(e.input,e.index+e[0].length,n)?"":"(?:)"},{flag:"x"}),v(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),v(/\\k<([\w$]+)>/,function(e){var t=isNaN(e[1])?c(this.captureNames,e[1])+1:+e[1],n=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+t+(n===e.input.length||isNaN(e.input.charAt(n))?"":"(?:)")},{leadChar:"\\"}),v(/\\(\d+)/,function(e,t){if(!(t===k&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]},{scope:"all",leadChar:"\\"}),v(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if("length"===e[1]||"__proto__"===e[1])throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(c(this.captureNames,e[1])>-1)throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),v(/\((?!\?)/,function(e,t,n){return n.indexOf("n")>-1?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("}),m}();